shopt -s extglob


# Resolve the current script path,
# See $DIR
SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ]; 
do # resolve $SOURCE until the file is no longer a symlink

  DIR="$( cd -P "$( dirname "$SOURCE" )" && pwd )"
  SOURCE="$(readlink "$SOURCE")"

  # if $SOURCE was a relative symlink, we need to resolve it relative to the path where the symlink file was located
  [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE" 
  # Fix vi's broken syntax highlighting */

done
DIR="$( cd -P "$( dirname "$SOURCE" )" && pwd )"

scripts=($DIR/.rc.d/*.sh /etc/bash_completion.d/git ~/src/bash/exports.d/*) # Fix vi's broken syntax highlighting */

for script in "${scripts[@]}"
do
    if [ -f $script ];
        # Since this is run at console start up, disable errors
        then source $script #2&>/dev/null;
    fi
done
